<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pakistan Cricket Assistant</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>Pakistan Cricket Stats</h1>
            <div class="bot-info">
                <i class="fas fa-robot"></i>
                <span>Online</span>
            </div>
        </div>
        
        <div class="chat-messages" id="chat-messages">
            <div class="message bot-message">
                <div class="message-content">
                    <p>Hello! I'm your Pakistan Cricket Assistant. How can I help you today?</p>
                </div>
                <div class="message-time">Just now</div>
            </div>
        </div>

        <form class="chat-input" id="chat-form">
            <input type="text" id="user_input" name="user_input" placeholder="Type your message here..." autocomplete="on" required>
            <button type="submit">
                <i class="fas fa-paper-plane"></i>
            </button>
            <!-- 🎙️ Microphone Button -->
            <button type="button" onclick="startRecognition()" title="Speak">
                <i class="fas fa-microphone"></i>
            </button>
        </form>
    </div>

    <!-- Your existing scripts.js -->
    <script src="/static/scripts.js"></script>

    <!-- 🎤 Voice-to-Text + 🔊 Text-to-Speech -->
    <script>
        // Text-to-Speech: bot speaks the reply
        function speakText(text) {
            const synth = window.speechSynthesis;
            const utterance = new SpeechSynthesisUtterance(text);
            synth.speak(utterance);
        }

        // Speech Recognition: user speaks the question
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'en-US';

        function startRecognition() {
            recognition.start();
        }

        recognition.onresult = function(event) {
            const transcript = event.results[0][0].transcript;
            document.getElementById('user_input').value = transcript;

            // Optionally auto-submit the form
            document.getElementById('chat-form').requestSubmit();
        };
    </script>

    <script>
    function speakText(text) {
        const synth = window.speechSynthesis;
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'en-US'; // Optional: set voice/lang
        synth.speak(utterance);
    }
    </script>
</body>
</html>



